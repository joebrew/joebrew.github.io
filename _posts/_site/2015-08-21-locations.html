<p>Bla bla bla</p>
<iframe src="/m.html" width="600" height="500">
</iframe>

<p>And here’s the code to generate the above map in R.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kn">library</span><span class="p">(</span>leaflet<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>ggmap<span class="p">)</span>

<span class="c1"># Create a dataframe of locations, descriptions and names</span>
places <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>place <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&#39;Gainesville, FL, USA&#39;</span><span class="p">,</span> 
                               <span class="s">&#39;Barcelona, Spain&#39;</span><span class="p">,</span>
                               <span class="s">&#39;Manhica, Mozambique&#39;</span><span class="p">,</span>
                               <span class="s">&#39;Amsterdam, Netherlands&#39;</span><span class="p">),</span>
                     lon <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">-82.3248262</span><span class="p">,</span><span class="m">2.1734035</span><span class="p">,</span><span class="m">32.7971649</span><span class="p">,</span><span class="m">4.8951679</span><span class="p">),</span>
                     lat <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">29.6516344</span><span class="p">,</span><span class="m">41.3850639</span><span class="p">,</span><span class="m">-25.3923014</span><span class="p">,</span><span class="m">52.3702157</span><span class="p">),</span>
                     description <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&#39;Current location&#39;</span><span class="p">,</span>
                                     <span class="s">&#39;ISGlobal (main institution)&#39;</span><span class="p">,</span>
                                     <span class="s">&#39;Centro de Investigação em Saúde de Manhiça (research site)&#39;</span><span class="p">,</span>
                                     <span class="s">&#39;(secondary research institution)&#39;</span><span class="p">),</span>
                     stringsAsFactors <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
<span class="c1"># Run the following if you want to geocode the locations:</span>
<span class="c1"># temp &lt;- geocode(places$place)</span>

<span class="c1"># Create a leaflet widget</span>
m <span class="o">&lt;-</span> leaflet<span class="p">()</span> <span class="o">%&gt;%</span>
  <span class="c1"># addProviderTiles(&quot;Stamen.Toner&quot;) %&gt;%</span>
  addProviderTiles<span class="p">(</span><span class="s">&quot;Stamen.Watercolor&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
  setView<span class="p">(</span>lng<span class="o">=</span><span class="m">0</span><span class="p">,</span> lat<span class="o">=</span><span class="m">25</span><span class="p">,</span> zoom<span class="o">=</span><span class="m">2</span><span class="p">)</span> <span class="o">%&gt;%</span>
  addMarkers<span class="p">(</span>lng<span class="o">=</span>places<span class="o">$</span>lon<span class="p">,</span> 
             lat<span class="o">=</span> places<span class="o">$</span>lat<span class="p">,</span> 
             popup<span class="o">=</span><span class="kp">paste</span><span class="p">(</span>places<span class="o">$</span>place<span class="p">,</span> <span class="s">&#39;\n&#39;</span><span class="p">,</span>
                         places<span class="o">$</span>description<span class="p">))</span>
  
<span class="c1"># Save the widget to an html file</span>
<span class="kn">library</span><span class="p">(</span>htmlwidgets<span class="p">)</span>
saveWidget<span class="p">(</span>m<span class="p">,</span> file<span class="o">=</span><span class="s">&quot;m.html&quot;</span><span class="p">)</span></code></pre></div>

